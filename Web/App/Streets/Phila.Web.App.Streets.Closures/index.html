<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="description" content="City of Philadelphia Streets Department's street Closure application" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Philadelphia Street Department: Street Closures</title>
    <link rel='icon' type='image/x-icon' href="https://cityofphiladelphia.github.io/patterns/images/favicon.ico" />


    <!-- ToDo: bundle and minify css before publishing to production -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="//cityofphiladelphia.github.io/patterns/dist/0.12.6/css/patterns.css" />

    <link href="Content/app/jquery-ui-smoothness-1.11.4.css" rel="stylesheet" />
    <link href="Content/app/ionicons.min-2.0.1.css" rel="stylesheet" />
    <!--<link href="Content/app/patterns-0.8.1.css" rel="stylesheet" />-->
    <link href="Content/responsive-tabs.css" rel="stylesheet" />
    <link href="Content/app/site.css" rel="stylesheet" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />

</head>
<body>

    <!-- Begin main page div -->
    <div class="site" id="page">

        <!-- Begin header -->
        <header data-swiftype-index="false" class="site-header app" role="banner">
            <div class="row">
                <div class="large-24 columns">
                    <div class="row collapse">
                        <div class="small-6 columns">
                            <a href="http://alpha.phila.gov">
                                <img src="https://cityofphiladelphia.github.io/patterns/images/city-of-philadelphia-logo-mobile.png" alt="City of Philadelphia" class="logo show-for-small-only" />
                                <img src="https://cityofphiladelphia.github.io/patterns/images/city-of-philadelphia-logo.png" alt="City of Philadelphia" class="logo show-for-medium-up" />
                            </a>
                            <h1 class="site-title">phila.gov</h1>
                            <h2 class="site-description">City of Philadelphia</h2>
                        </div>
                        <div class="small-18 columns">
                            <div class="page-title-container">
                                <h1 class="page-title">Commercial Street Closure Request</h1>
                                <h5>*this app is under development</h5>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <!-- end header -->

        <div class="row">
            <div class="small-24 columns">
                <div class="divider"></div>
            </div>
        </div>
        <div style="text-align: center">
            <img id="PageLoadingProgress" src="Content/app/images/loading25.gif" />
        </div>
        <img id="Loading" alt="loading..." style="display: none" src="Content/app/images/loading.gif" />

        <!-- Begin login section -->
        <div id="LoginSection" class="row" style="display: none">
            <div class="columns">
                <div id="LoginMain" data-bind="validationOptions: {insertMessages: false}">
                    <h2>Secure login without a password</h2>
                    <h3>Enter your email address.</h3>
                    <h6>The development site only accepts @phila.gov email addresses</h6>
                    <input id="LoginEmail" type="email" data-bind="value: usersEmailAddress" placeholder="email@example.com" />
                    <a class="button" id="RequestLoginBtn" data-bind="click: requestLogin">Request Login Email</a>
                    <br />
                    <span class="validationMessage" data-bind="validationMessage: usersEmailAddress"></span>
                </div>
            </div>
        </div>
        <!-- end login section -->
        <!-- Begin user's companies selection div -->
        <div id="UsersCompaniesSection" class="row" style="display: none">
            <div class="columns">
                <!--<h1>I LOVE MY SON RICARDO</h1>
                <h1>I LOVE MY DAD</h1>-->
                <h2>Your Companies</h2>
                <select data-bind="options: $root.companies, optionsText: 'CompanyName', value: $root.selectedCompany, optionsCaption: 'Choose one...', event:{ change: $root.selectedCompanyChanged }"></select>
            </div>
        </div>
        <!-- end user's companies selection div -->
        <!-- Begin your permits section -->
        <div id="YourPermitsSection" class="row" style="display: none;">
            <div class="columns marg-bottom-12.5px">

                <a class="button icon" href="#/" style="cursor: pointer" data-bind="click: $root.addPermit" id="ShowAddResourcePageButtonTOP">New Permit<i class="fa fa-plus fa-2x addNewButton"></i></a>


                <h2>Your Permits</h2>
            </div>
            <div id="PermitSection" class="row" style="margin-left: 12.5px; margin-right: 12.5px; margin-bottom: 0;">
                <div id="tabs" style="padding-left: 0; padding-right: 0;" class="columns marg-bottom-20">
                    <ul>
                        <li><a href="#tab-permit-stats">Stats</a></li>
                        <li><a id="a1" data-statusId="1" href="#tab-1">Approved</a></li>
                        <li><a id="a4" data-statusId="4" href="#tab-4">Awaiting Info</a></li>
                        <li><a id="a9" data-statusId="9" href="#tab-9">Cancelled</a></li>
                        <li><a id="a2" data-statusId="2" href="#tab-2">Denied</a></li>
                        <li><a id="a8" data-statusId="8" href="#tab-8">Draft</a></li>
                        <li><a id="a7" data-statusId="7" href="#tab-7">Work In Progress</a></li>
                        <li><a id="a3" data-statusId="3" href="#tab-3">Pending</a></li>
                        <li><a id="a5" data-statusId="5" href="#tab-5">Revoked</a></li>
                        <li><a id="a6" data-statusId="6" href="#tab-6">Suspended</a></li>
                    </ul>
                    <div id="tab-permit-stats" style="padding-left: 0; padding-right: 0">
                        <table>
                            <tbody data-bind="template: { name: 'status-template', foreach: permitStatusCodes }"></tbody>
                        </table>
                    </div>
                    <div id="tab-1" name="tab-permits-approved" style="padding-left: 0; padding-right: 0">
                        <div id="PermitsTable" style="padding-left: 12.5px; padding-right: 12.5px;">
                            <div class="row" style="margin-bottom: 5px; margin-top: 5px;">
                                <div id="Search" class="columns">
                                    <input placeholder="Filter list" type="text" data-bind="value: permitSearch, valueUpdate: 'afterkeydown', event: { 'keyup': $root.getPermitsForCompany.bind($data) }" />
                                    <h4 style="margin-bottom: 3px">
                                        Filtered results:&nbsp;<span data-bind="text: $root.totalPermitsFound"></span>&nbsp;permits
                                    </h4>
                                </div>

                            </div>
                            <div data-bind="visible: $root.permits().length > 0">
                                <div class="medium-24" style="margin-left: 0; margin-right: 0; margin-bottom: 5px;">
                                    <select data-bind="options: pageSizes, value: $root.selectedPageSize, event:{ change: $root.getPermitsForCompany.bind($data) }"></select>
                                </div>
                                <table id="permitsTable" class="ui-widget-content resize no-borders">
                                    <thead>
                                        <tr>
                                            <th>&nbsp;</th>
                                            <th data-bind="click: sortPermits.bind($data, 'permitid')">Permit ID&nbsp;<i class="fa fa-sort"></i></th>
                                            <th data-bind="click: sortPermits.bind($data, 'purpose')">Purpose&nbsp;<i class="fa fa-sort"></i></th>
                                            <th data-bind="click: sortPermits.bind($data, 'permitlocation')">Start Date&nbsp;<i class="fa fa-sort"></i></th>
                                            <th data-bind="click: sortPermits.bind($data, 'startdate')">Start Time&nbsp;<i class="fa fa-sort"></i></th>
                                            <th data-bind="click: sortPermits.bind($data, 'enddate')">End Date&nbsp;<i class="fa fa-sort"></i></th>
                                            <th data-bind="click: sortPermits.bind($data, 'startdate')">End Time&nbsp;<i class="fa fa-sort"></i></th>
                                            <!--<th data-bind="click: sortPermits.bind($data, 'permitstatus')">Status&nbsp;<i class="fa fa-sort"></i></th>-->
                                        </tr>
                                    </thead>
                                    <tbody data-bind="template: { name: 'closure-template', foreach: permits }"></tbody>
                                </table>
                                <div id="page-selection"></div>
                            </div>

                            <div data-bind="visible: $root.permits().length === 0 && $root.isPermitLoading() == false">
                                <span><strong style="padding-top: 5px; padding-bottom: 5px;">You don't have any permits with this status</strong></span>
                            </div>
                            <img id="loading-permits" data-bind="visible: $root.isPermitLoading() == true" alt="loading..." style="text-align: center" src="Content/app/images/loading.gif" />

                        </div>


                    </div>
                    <div id="tab-4" name="tab-permits-awaitinginfo" style="padding-left: 0; padding-right: 0"></div>
                    <div id="tab-9" name="tab-permits-cancelled" style="padding-left: 0; padding-right: 0"></div>
                    <div id="tab-2" name="tab-permits-denied" style="padding-left: 0; padding-right: 0"></div>
                    <div id="tab-8" name="tab-permits-draft" style="padding-left: 0; padding-right: 0"></div>
                    <div id="tab-7" name="tab-permits-afterwork" style="padding-left: 0; padding-right: 0"></div>
                    <div id="tab-3" name="tab-permits-pending" style="padding-left: 0; padding-right: 0"></div>
                    <div id="tab-5" name="tab-permits-revoked" style="padding-left: 0; padding-right: 0"></div>
                    <div id="tab-6" name="tab-permits-suspended" style="padding-left: 0; padding-right: 0"></div>


                </div>
            </div>

        </div>
        <!-- end your permits section -->
        <!-- Begin account section -->
        <div id="AccountSection" class="marg-top-20 row" style="display: none">
            <div class="large-24 columns">
                <div id="AccountDetails" data-bing="with: selectedContact">
                    <div id="account-details" class="details background-color" data-bind="with: selectedCompany">
                        <div class="row">
                            <div id="AccountHeader" class="medium-20 columns">
                                <h3 style="margin-top: 5px">Company Information</h3>
                            </div>
                            <div class="medium-4 columns">
                                <i class="fa fa-pencil fa-2x" data-bind="click: $root.editCompany.bind($root), visible: !$root.isCompanyEditing($data)" style="margin-top: 5px"></i>
                                <i class="fa fa-floppy-o fa-2x" data-bind="click: $root.applyCompany.bind($root), visible: $root.isCompanyEditing($data)"></i>
                                <i class="fa fa-times fa-2x" data-bind="click: $root.cancelEditCompany.bind($root), visible: $root.isCompanyEditing($data)"></i>
                            </div>
                        </div>
                        <div class="row">
                            <div class="medium-15 columns">
                                <h4>Company Name</h4>
                                <input type="text" class="edit" data-bind="value: CompanyName.editValue, visible: $root.isCompanyEditing($data)" />
                                <h2><label class="read" data-bind="text: CompanyName, visible: !$root.isCompanyEditing($data)"></label></h2>
                            </div>
                            <div class="medium-9 columns">
                                <h4>Company Phone</h4>

                                <input type="tel" class="edit" data-bind="value: CompanyPhoneNumber.editValue, visible: $root.isCompanyEditing($data)" />
                                <label class="read" data-bind="text: CompanyPhoneNumber, visible: !$root.isCompanyEditing($data)"></label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="medium-15 columns">
                                <h4 class="">Web Site</h4>
                                <input type="url" class="edit" data-bind="value: Website.editValue, visible: $root.isCompanyEditing($data)" />
                                <label class="read" data-bind="text: Website, visible: !$root.isCompanyEditing($data)"></label>
                            </div>
                            <div class="medium-9 columns">
                                <h4>Company Fax</h4>
                                <input type="tel" class="edit" data-bind="value: CompanyFaxNumber.editValue, visible: $root.isCompanyEditing($data)" />
                                <label class="read" data-bind="text: CompanyFaxNumber, visible: !$root.isCompanyEditing($data)"></label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="medium-15 columns">
                                <h4>Address 1</h4>
                                <input type="text" class="edit" data-bind="value: BillingStreetAddress1.editValue, visible: $root.isCompanyEditing($data)" />
                                <label class="read" data-bind="text: BillingStreetAddress1, visible: !$root.isCompanyEditing($data)"></label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="medium-15 columns">
                                <h4>Address 2</h4>

                                <input type="text" class="edit" data-bind="value: BillingStreetAddress2.editValue, visible: $root.isCompanyEditing($data)" />
                                <label class="read" data-bind="text: BillingStreetAddress2, visible: !$root.isCompanyEditing($data)"></label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="medium-15 columns">
                                <h4>Address 3</h4>

                                <input type="text" class="edit" data-bind="value: BillingStreetAddress3.editValue, visible: $root.isCompanyEditing($data)" />
                                <label class="read" data-bind="text: BillingStreetAddress3, visible: !$root.isCompanyEditing($data)"></label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="medium-5 columns">
                                <h4>City</h4>

                                <input type="text" class="edit" data-bind="value: BillingCity.editValue, visible: $root.isCompanyEditing($data)" />
                                <label class="read" data-bind="text: BillingCity, visible: !$root.isCompanyEditing($data)"></label>
                            </div>
                            <div class="medium-2 columns">
                                <h4>State</h4>

                                <input type="text" class="edit" data-bind="value: BillingState.editValue, visible: $root.isCompanyEditing($data)" />
                                <label class="read" data-bind="text: BillingState, visible: !$root.isCompanyEditing($data)"></label>
                            </div>
                            <div class="medium-5 columns">
                                <h4>Zip</h4>

                                <input type="number" class="edit" data-bind="value: BillingZipCode.editValue, visible: $root.isCompanyEditing($data)" />
                                <label class="read" data-bind="text: BillingZipCode, visible: !$root.isCompanyEditing($data)"></label>
                            </div>
                            <div class="medium-12 columns"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- end account section -->
        <!-- Begin user's details section -->
        <div id="UserDetailsSection" class="row background-color" style="display: none; padding-left: 12.5px; padding-right: 12.5px;">
            <div id="UserHeader" data-bind="with: selectedContact">
                <h3 class="medium-23 columns">My Account Information</h3>

                <a class="button toolButton" href="#" data-bind="click: $root.editContact.bind($root), visible: !$root.isContactEditing($data)">Edit</a>

                <i class="fa fa-floppy-o fa-2x" data-bind="click: $root.applyContact.bind($root), visible: $root.isContactEditing($data)"></i>

                <a class="button toolButton" href="#" data-bind="click: $root.cancelEditContact.bind($root), visible: $root.isContactEditing($data)">Cancel</a>
                <i class="fa fa-times fa-2x" data-bind="click: $root.cancelEditContact.bind($root), visible: $root.isContactEditing($data)"></i>

                <label>First name:</label>
                <input type="text" class="edit FirstName" data-bind="value: ContactFirstName.editValue, visible: $root.isContactEditing($data)" />
                <label class="read" data-bind="text: ContactFirstName, visible: !$root.isContactEditing($data)"></label>
                <label>Last name:</label>
                <input type="text" class="edit LastName" data-bind="value: ContactLastName.editValue, visible: $root.isContactEditing($data)" />
                <label class="read" data-bind="text: ContactLastName, visible: !$root.isContactEditing($data)"></label>
                <label>Phone number:</label>
                <input type="text" class="edit UserPhone" data-bind="value: ContactPhoneNumber.editValue, visible: $root.isContactEditing($data)" />
                <label class="read" data-bind="text: ContactPhoneNumber, visible: !$root.isContactEditing($data)"></label>
                <label>Email address:</label>
                <input type="text" class="edit UserEmail" data-bind="value: ContactEmailAddress.editValue, visible: $root.isContactEditing($data)" />
                <label class="read" data-bind="text: ContactEmailAddress, visible: !$root.isContactEditing($data)"></label>
            </div>
        </div>
        <!-- end user's details section -->
        <hr />

        <!-- Begin add new permit section-->
        <div id="AddNewPermitSection" class="row add-permit" style="display: none" data-bind="with: editingPermitItem">
            <!-- Begin top input div -->
            <div id="AddResourcePage" class="columns marg-top-20">
                <i style="cursor: pointer" class="fa fa-home fa-4x" data-bind="click: $root.cancelPermitApplication"></i>
                <h2>New Closure Request Form</h2>
                <div class="row">
                    <div class="medium-6 columns">
                        <label for="start-date">
                            Start Date:<span style="color: black;">*</span>&nbsp;
                            <abbr rel="tooltip" title="The start date must be <em>10 days</em> after today."><i class="fa fa-info-circle"></i></abbr>
                        </label>
                        <input id="formStartDate" type="date" data-bind="value: StartDate" />
                    </div>
                    <div class="medium-6 columns">
                        <label>Start Time:<span style="color: black;">*</span></label>
                        <input id="formStartTime" type="text" class="form-control" placeholder="hh:mm xm" data-bind="value: StartTime" /><!--data-bind="inputmask: { value: $root.effectiveTime, mask: 'h:s t\\m', placeholder: 'hh:mm xm', alias: 'datetime', hourFormat: '12'}" />-->
                    </div>
                    <div class="medium-6 columns">
                        <label>End Date:<span style="color: black;">*</span></label>
                        <input id="formEndDate" type="date" class="form-control" data-bind="value: EndDate" />
                    </div>
                    <div class="medium-6 columns">
                        <label>End Time:<span style="color: black;">*</span></label>
                        <input id="formEndTime" type="text" class="form-control" placeholder="hh:mm xm" data-bind="value: EndTime" /><!--data-bind="inputmask: { value: $root.expirationTime, mask: 'h:s t\\m', placeholder: 'hh:mm xm', alias: 'datetime', hourFormat: '12'}"/>-->
                    </div>
                </div>
                <div class="row">
                    <div class="medium-24 columns">
                        <label>Purpose:<span style="color: black;">*</span></label>
                        <textarea id="formPurpose" data-bind="value: Purpose"></textarea>
                    </div>
                </div>
                <div class="row">
                    <div class="medium-12 columns">
                        <label>Permit Type:<span style="color: black;">*</span> </label>
                        <select id="formPermitTypes" data-bind="options: $root.permitTypes, optionsText: 'PermitTypeName', value: PermitTypeId, optionsCaption: 'Choose...'"></select>
                    </div>
                    <div class="medium-12 columns" data-bind="visible: PermitTypeId() != undefined && PermitTypeId().PermitTypeId > 10">
                        <label>Utility Owner:<span style="color: black;">*</span> </label>
                        <select id="formUtilityOwners" data-bind="options: $root.utilityOwners, optionsText: 'Name', value: UtilityOwnerId, optionsCaption: 'Choose...'"></select>
                    </div>
                </div>
                <div class="row">
                    <div class="medium-24 columns">
                        <label>Comments: </label>
                        <textarea id="formComments" data-bind="value: Comments"></textarea>
                    </div>
                </div>
                <hr />
                <div class="row">
                    <div id="formProjectTypes" class="columns">
                        <h2>Project Type(s)<span style="color: black;">*</span></h2>
                        <span class="validationMessage" data-bind="validationMessage: ProjectTypes"></span>
                        <div data-bind="validationOptions: {insertMessages: false}">
                            <ul class="checkbox-columns no-bullet" data-bind="foreach: $root.projectTypes">
                                <li>
                                    <label><input type="checkbox" data-bind="checkedValue: ProjectTypeId, checked: $parent.ProjectTypes()" /><span data-bind="text: '&nbsp;' + ProjectName"></span></label>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <hr />
                <div class="row" data-bind="visible: PermitTypeId() != undefined && (PermitTypeId().PermitTypeId < 4 || PermitTypeId().PermitTypeId == 9)">
                    <div id="formEncroachments" class="columns">
                        <h2>Encroachment Type(s)<span style="color: black;">*</span></h2>
                        <span class="validationMessage" data-bind="validationMessage: EncroachmentTypes"></span>
                        <div data-bind="validationOptions: {insertMessages: false}">
                            <ul class="checkbox-columns no-bullet" data-bind="foreach: $root.encroachmentTypes">
                                <li>
                                    <label><input type="checkbox" value="" data-bind="checkedValue: EncroachmentTypeID, checked: $parent.EncroachmentTypes" /><span data-bind="text: '&nbsp;' + EncroachmentTypeName"></span></label>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <hr />
            <!-- end top input div -->
            <!-- Begin location div  -->
            <div style="padding-left: 12.5px; padding-right: 12.5px;">
                <div id="formLocations" class="row">
                    <div class="columns">
                        <h2>Location(s)<span style="color: black;">*</span></h2>
                        <span class="validationMessage" data-bind="validationMessage: Locations"></span>

                    </div>
                </div>
                <div data-bind="foreach: Locations">
                    <div class="row">
                        <div class="medium-12 columns">
                            <strong><label>Occupancy Type:</label></strong><span style="color: black;">*</span>

                            <select data-bind="options: $root.occupancyTypes, optionsText: 'OccupancyTypeName', value: OccupancyTypeId.editValue, selectedOptions: OccupancyTypeId, optionsCaption: 'Choose...', visible: $root.isLocationEditing($data)"></select>

                            <label class="read" data-bind="text: OccupancyTypeId() ? OccupancyTypeId().OccupancyTypeName : '', visible: !$root.isLocationEditing($data)"></label>

                            <span style="color: red;" data-bind="visible: isOccupancyTypeValid() == false">required</span>
                            <span class="validationMessage" data-bind="validationMessage: isOccupancyTypeValid"></span>
                        </div>

                        <!-- location type -->
                        <div class="medium-12 columns">
                            <strong><label>Location Type:<span style="color: black;">*</span>&nbsp;<abbr rel="tooltip" title="Select a location type."><i class="fa fa-info-circle"></i></abbr></label></strong>

                            <select data-bind="options: $root.locationTypes, selectedOptions: LocationType.editValue(), visible: $root.isLocationEditing($data), value: LocationType.editValue, optionsCaption: 'Choose...'"></select>

                            <label class="read" data-bind="text: LocationType() ? LocationType() : '', visible: !$root.isLocationEditing($data)"></label>

                            <span style="color: red;" data-bind="visible: isLocationTypeValid() == false">required</span>

                            <span class="validationMessage" data-bind="validationMessage: isLocationTypeValid"></span>

                        </div>
                    </div>
                    <div class="row">
                        <div class="medium-12 columns" data-bind="visible: $data.LocationType.editValue() != undefined">
                            <strong><label data-bind="text: $data.LocationType.editValue() == 'Address' ? 'Address:' : 'On Street:'"></label></strong><span style="color: black;">*</span>

                            <input id="OnStreet" data-bind="jqAuto: { value: OnStreetName.editValue, source: $root.getOnStreets, inputProp: 'StreetName', labelProp: 'StreetName', valueProp: 'StreetName' }, visible: $root.isLocationEditing($data)" type="text" />

                            <label class="read" data-bind="text: OnStreetName.editValue() != undefined ? OnStreetName() : '', visible: !$root.isLocationEditing($data)"></label>

                            <span style="color: red;" data-bind="visible: isOnStreetValid() === false">required</span>

                        </div>
                    </div>
                    <div class="row">
                        <div id="FromStreetDiv" class="medium-12 columns" data-bind="visible: LocationType.editValue() != undefined && LocationType.editValue() != 'Address'">
                            <a href="#"></a>
                            <strong><label data-bind="text: $data.LocationType.editValue() == 'Intersection' ? 'Cross Street:' : 'From Street:'"></label></strong><span style="color: black;">*</span>

                            <div class="tooltip-icon" data-bind="visible: $data.LocationType.editValue() == 'Intersection'">
                                &nbsp;<abbr rel="tooltip" title="Select the cross street."><i class="fa fa-info-circle"></i></abbr>
                            </div>

                            <div class="tooltip-icon" data-bind="visible: $data.LocationType.editValue() == 'Street Segment'">
                                &nbsp;<abbr rel="tooltip" title="Select the starting cross street."><i class="fa fa-info-circle"></i></abbr>
                            </div>

                            <select id="FromStreet" class="ddFromStreet" data-bind="options: $root.fromStreets, optionsText: 'StreetName', value: FromStreetName.editValue, optionsCaption: $root.fromStreetCaption, visible: $root.isLocationEditing($data), event: { change: $root.getToStreets.bind($data, $data.OnStreetName.editValue, $data.FromStreetName.editValue) },  enable: $root.fromStreets() != undefined && $root.fromStreets().length > 0 ? true : false"></select>

                            <label class="read" data-bind="text: FromStreetName() != undefined && FromStreetName().StreetName != undefined ? FromStreetName().StreetName : FromStreetName(), visible: !$root.isLocationEditing($data)"></label>

                            <span style="color: red;" data-bind="visible: isFromStreetValid() === false">required</span>
                        </div>

                        <div id="ToStreetDiv" class="medium-12 columns" data-bind="visible: $data.LocationType.editValue() == 'Street Segment'">
                            <a href="#"></a>
                            <strong><label>To Street:</label></strong><span style="color: black;">*</span>
                            <br />

                            <select class="ddToStreet" data-bind="options: $root.toStreets, optionsText: 'StreetName', value: $data.ToStreetName.editValue, optionsCaption: $root.toStreetCaption, visible: $root.isLocationEditing($data),  enable: $root.toStreets() != undefined && $root.toStreets().length > 0 ? true : false"></select>

                            <label class="read" data-bind="text: ToStreetName() != undefined && ToStreetName().StreetName != undefined ? ToStreetName().StreetName : ToStreetName(), visible: $root.isLocationEditing($data) === false"></label>

                            <span style="color: red;" data-bind="visible: isToStreetValid() === false">required</span>

                        </div>
                    </div>

                    <div class="row" style="padding-top: 2.5px;">
                        <div class="columns">
                            <i class="fa fa-pencil fa-2x" data-bind="click: $root.editLocation.bind($data), visible: !$root.isLocationEditing($data)"></i>

                            <i class="fa fa-floppy-o fa-2x" data-bind="click: $root.applyLocation.bind($data), visible: $root.isLocationEditing($data)"></i>
                            <i class="fa fa-times fa-2x" data-bind="click: $root.cancelEditLocation.bind($data), visible: $root.isLocationEditing($data) && IsNewLocation() == false"></i>

                            <i class="fa fa-trash fa-2x" data-bind="click: $root.removeLocation.bind($data), visible: !$root.isLocationEditing($data) || IsNewLocation() == true"></i>
                        </div>
                    </div>

                    <hr />
                </div>

                <a class="button icon" style="cursor: pointer" href="#/" data-bind="click: $root.addLocation, visible: $root.isLocationEditing()">Add Location<i class="fa fa-plus fa-2x addNewButton"></i></a>

            </div>
            <!-- end location div -->
            <!-- Begin reference div -->
            <hr />
            <div id="formReferences" style="padding-left: 12.5px; padding-right: 12.5px;">
                <a href="#"></a>
                <h2>Reference(s)</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Reference Type</th>
                            <th>Reference </th>
                            <th>options</th>
                        </tr>
                    </thead>
                    <tbody data-bind="foreach: References">
                        <tr>
                            <td>
                                <select data-bind="options: $root.referenceTypes, optionsText: 'ReferenceTypeName', value: ReferenceTypeId.editValue, selectedOption: ReferenceTypeId, optionsCaption: 'Choose...', visible: $root.isReferenceEditing($data)"></select>

                                <label class="read" data-bind="text: ReferenceTypeId() ? ReferenceTypeId().ReferenceTypeName : '', visible: !$root.isReferenceEditing($data)"></label>
                            </td>
                            <td>
                                <input class="edit" data-bind="value: ReferenceValue.editValue, visible: $root.isReferenceEditing($data)" type="text" />

                                <label class="read" data-bind="text: ReferenceValue, visible: !$root.isReferenceEditing($data)"></label>
                            </td>
                            <td class="tools">
                                <i class="fa fa-pencil fa-2x" data-bind="click: $root.editReference.bind($data), visible: !$root.isReferenceEditing($data)"></i>
                                <i class="fa fa-trash fa-2x" data-bind="click: $root.removeReference.bind($data), visible: !$root.isReferenceEditing($data)"></i>
                                <i class="fa fa-floppy-o fa-2x" data-bind="click: $root.applyReference.bind($data), visible: $root.isReferenceEditing($data)"></i>
                                <i class="fa fa-times fa-2x" data-bind="click: $root.cancelEditReference.bind($data), visible: $root.isReferenceEditing($data)"></i>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <a class="button icon" style="cursor: pointer" href="#/" data-bind="click: $root.addReference, visible: $root.isReferenceEditing()">Add Reference<i class="fa fa-plus fa-2x addNewButton"></i></a>

            </div>
            <!-- end reference div -->
            <!-- Begin file upload div -->
            <!--<div>
                <h2 class="marg-top-20 alternate divide medium-24 columns">File Attachment(s)</h2>
                <form enctype="multipart/form-data">
                    <input type="file" id="fileInput" name="fileInput" id="fileInput" />
                </form>
                <progress id="UploadDocumentProgress" style="display: none"></progress>
            </div>-->
            <!-- end file upload div -->
            <!-- Begin application actions div -->
            <div class="large-24 columns pad-25">

                <a class="button icon actions" id="submitApp" style="cursor: pointer" href="#/" data-bind="click: $root.submitPermitApplication, enabled: $root.areActionsEnabled() == true">
                    Submit App
                    <i class="fa fa-cog fa-2x addNewButton" data-bind="visible: $root.areActionsEnabled() == false"></i>
                    <i class="fa fa-send fa-2x addNewButton" data-bind="visible: $root.areActionsEnabled() == true"></i>
                </a>

                <a class="button icon actions" id="submitDraft" style="cursor: pointer" href="#/" data-bind="click: $root.submitPermitDraftApplication, enabled: $root.areActionsEnabled() == true">
                    <span data-bind="text: $root.isPermitNew() === true ? 'Save Draft' : 'Update Draft'"></span>
                    <i class="fa fa-cog fa-2x addNewButton" data-bind="visible: $root.areActionsEnabled() == false"></i>
                    <i class="fa fa-floppy-o fa-2x addNewButton" data-bind="visible: $root.areActionsEnabled() == true"></i>
                </a>

                <a class="button icon actions" id="cancelApp" style="cursor: pointer" href="#/" data-bind="click: $root.cancelPermitApplication, enabled: $root.areActionsEnabled() == true">
                    <span data-bind="text:  $root.isPermitNew() === true ? 'Delete App' : 'Cancel Changes'"></span>
                    <i class="fa fa-cog fa-2x addNewButton" data-bind="visible: $root.areActionsEnabled() == false"></i>
                    <i class="fa fa-times fa-2x addNewButton" data-bind="visible: $root.areActionsEnabled() == true"></i>
                </a>

                <a class="button icon actions" id="deleteApp" data-bind="visible: !$root.isPermitNew(), click: $root.submitPermitCancellation.bind($data, true, false), enabled: $root.areActionsEnabled() == true">
                    <span>Delete Draft</span>
                    <i class="fa fa-cog fa-2x addNewButton" data-bind="visible: $root.areActionsEnabled() == false"></i>
                    <i class="fa fa-trash fa-2x addNewButton" data-bind="visible: $root.areActionsEnabled() == true"></i>
                </a>

                <!--<a class="button" id="deleteApp" data-bind="visible: !$root.isPermitNew(), click: $root.submitPermitCancellation.bind($data, true, false)">Delete Draft</a>-->
            </div>
            <!--<div data-bind="visible: $root.areActionsEnabled() == false">
                <img alt="loading..." style="text-align: center" src="Content/app/images/loading.gif" />
                <span>processing...</span>
            </div>-->
            <!-- End application actions div -->
        </div>
        <!-- End add new permit section-->
    </div>
    <!-- end page container -->
    <!-- Begin footer -->
    <footer class="site-footer" role="contentinfo">
        <section class="fat">
            <div class="row">
                <div class="large-8 columns">
                    <h1>Government</h1>
                    <nav>
                        <ul>
                            <li><a href="http://alpha.phila.gov">alpha.phila.gov</a></li>
                            <li><a href="http://alpha.phila.gov/departments">Department Directory</a></li>
                            <li><a href="http://www.phila.gov/mayor">Mayor's Office</a></li>
                            <li><a href="http://iframe.publicstuff.com/#?client_id=242">Report an Issue / 311</a></li>
                            <li><a href="http://cityofphiladelphia.wordpress.com/">News</a></li>
                            <li><a href="http://www.phila.gov/phoneDir/">Phone Directory</a></li>
                        </ul>
                    </nav>
                </div>
                <div class="large-16 columns">
                    <h1>Browse alpha.phila.gov</h1>
                    <nav>
                        <ul class="columns-2">
                            <li><a href="http://alpha.phila.gov/browse/business">Business</a></li>
                            <li><a href="http://alpha.phila.gov/browse/health">Health</a></li>
                            <li><a href="http://alpha.phila.gov/browse/jobs-and-contracts">Jobs and Contracts</a></li>
                            <li><a href="http://alpha.phila.gov/browse/legal">Legal</a></li>
                            <li><a href="http://alpha.phila.gov/browse/payments-and-taxes">Payments and Taxes</a></li>
                            <li><a href="http://alpha.phila.gov/browse/permits-licenses">Permits and Licenses</a></li>
                            <li><a href="http://alpha.phila.gov/browse/property-housing">Property and Housing</a></li>
                            <li><a href="http://alpha.phila.gov/browse/public-safety">Public Safety</a></li>
                            <li><a href="http://alpha.phila.gov/browse/recreation">Recreation</a></li>
                            <li><a href="http://alpha.phila.gov/browse/streets-and-utilities">Streets and Utilities</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </section>
        <div class="row classic">
            <div class="large-14 columns">
                <a href="#/">Feedback</a> <span class="small-text">&copy; 2016 - City of Philadelphia | Office of Innovation and Technology</span>
            </div>
            <div class="large-10 columns">
                <nav>
                    <ul class="inline-list">
                        <li><a href="http://alpha.phila.gov/terms-of-use">Terms of use</a></li>
                        <li><a href="http://www.phila.gov/privacy/pdfs/FinalCityOpenRecords.pdf">Right to know (PDF)</a></li>
                        <li><a href="http://alpha.phila.gov/privacypolicy">Privacy Policy</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </footer>
    <!-- end footer -->
    <!-- Begin templates -->
    <!-- Begin status button template -->
    <script type="text/html" id="status-template">
        <tr>
            <td>
                <label data-bind="text: StatusName">
                </label>
            </td>
            <td>
                <label data-bind="text: TotalPermits">
                </label>
            </td>
        </tr>
    </script>
    <!-- end status button template -->
    <!-- Begin permit row template -->
    <script type="text/html" id="closure-template">
        <tr>
            <td class="tools">
                <i class="fa fa-pencil fa-2x edit-button" data-bind="click: $root.editPermit.bind($data), visible: (!$root.isPermitEditing($data) && (PermitStatus() == 'Draft' || PermitStatus() == 'Awaiting Information')) ? true : false"></i>

                <i class="fa fa-floppy-o fa-2x" data-bind="click: $root.applyPermit.bind($data), visible: $root.isPermitEditing($data)"></i>
                <i class="fa fa-times fa-2x cancel-button" data-bind="click: $root.cancelEditPermit.bind($data), visible: $root.isPermitEditing($data)"></i>
                <i class="fa fa-trash fa-2x cancel-button" data-bind="click: $root.requestPermitCancellation.bind($data), visible: (!$root.isPermitEditing($data) && (PermitStatus() == 'Draft' || PermitStatus() == 'Awaiting Information' || PermitStatus() == 'Pending')) ? true : false"></i>
                <i class="fa fa-file-pdf-o fa-2x" data-bind="click: $root.downloadPermitPdf.bind($data), visible: PermitStatus() == 'Approved' ? true : false"></i>
                <i class="fa fa-file  fa-2x" data-bind="visible: !$root.isPermitEditing($data) &&  PermitStatus() == 'Pending' ? true : false"></i>
            </td>

            <td>
                <span data-bind="text: PermitNumber"></span>
            </td>
            <td>
                <div class="truncate-ellipsis">
                    <span data-bind="text: Purpose"></span>
                </div>
            </td>
            <td>
                <span data-bind="text: StartDate"></span>
            </td>
            <td>
                <span data-bind="text: StartTime"></span>
            </td>
            <td>
                <span data-bind="text: EndDate"></span>
            </td>
            <td>
                <span data-bind="text: EndTime"></span>
            </td>
            <!--<td>
                    <label data-bind="text: Comments"></label>
                </td>
                <td>
                    <label data-bind="text: EffectiveDateTim"></label>
                </td>
                <td>
                    <label data-bind="text: ExpirationDateTime"></label>
                </td>-->
            <!--<td class="ClosureStatus">
                <span data-bind="text: PermitStatus"></span>
            </td>-->

        </tr>
    </script>
    <!-- end permit row template -->
    <!-- end templates -->
    <!-- Begin scripts -->
    <script src="Scripts/bundle.min.js"></script>
    <!--<script src="Scripts/modernizr-2.8.3.js"></script>
    <script src="Scripts/jquery-2.1.4.js"></script>
    <script src="Scripts/jquery-ui-1.11.4.js"></script>
    <script src="Scripts/jquery.animate-colors.js"></script>
    <script src="Scripts/bootstrap.js"></script>
    <script src="Scripts/jquery.bootpag.min.js"></script>
    <script src="Scripts/bootstrap-paginator.js"></script>
    <script src="Scripts/bootstrap-datepicker.js"></script>
    <script src="Scripts/respond.js"></script>
    <script src="Scripts/knockout-3.4.0.js"></script>
    <script src="Scripts/knockout.validation.js"></script>
    <script src="Scripts/knockout-jqAutocomplete.js"></script>
    <script src="Scripts/app/ko.editable.js"></script>

    <script src="Scripts/notify.js"></script>-->
    <script src="Scripts/app/app-models.js"></script>
    <script src="Scripts/app/notification-messages.js"></script>
    <!--<script src="Scripts/app/app-tooltips.js"></script>-->
    <script src="Scripts/app/app.js"></script>
    <!--<script src="Scripts/jquery.responsiveTabs.js"></script>-->

    <script src="//cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/js/foundation.min.js"></script>

    <script type='text/javascript' src='https://cityofphiladelphia.github.io/patterns/dist/0.12.6/js/patterns.min.js'></script>
    <script src="Scripts/moment.js"></script>
    <!--<script src="Scripts/jquery.inputmask/inputmask.js"></script>
    <script src="Scripts/jquery.inputmask/inputmask.extensions.js"></script>
    <script src="Scripts/jquery.inputmask/inputmask.regex.extensions.js"></script>
    <script src="Scripts/jquery.inputmask/inputmask.date.extensions.js"></script>
    <script src="Scripts/jquery.inputmask/jquery.inputmask.js"></script>
    <script src="Scripts/app/ko.inputmask.js"></script>-->
    <!-- end scripts -->


</body>
</html>